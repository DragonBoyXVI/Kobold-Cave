[gd_scene load_steps=17 format=4 uid="uid://dk0accw08uxn8"]

[ext_resource type="Script" uid="uid://beh5jj3cug0u3" path="res://Kobold Cave/Levels/level_base.gd" id="1_rbnmu"]
[ext_resource type="PackedScene" uid="uid://cv22pcm2jgbaa" path="res://Kobold Cave/Entity/Player/player.tscn" id="1_ty4y6"]
[ext_resource type="TileSet" uid="uid://d2sesonkjewl3" path="res://Kobold Cave/new_tile_set.tres" id="2_6lgpp"]
[ext_resource type="Texture2D" uid="uid://dwqkrttbf7gqx" path="res://icon.svg" id="3_gjs3b"]
[ext_resource type="PackedScene" uid="uid://cwk6n2uejntni" path="res://Kobold Cave/Level Objects/Bomb Pile/bomb_pile.tscn" id="8_8ixqh"]
[ext_resource type="PackedScene" uid="uid://cn8dbjksgpxgc" path="res://Kobold Cave/Components/2D/Level Boundry/level_boundry.tscn" id="8_x5arx"]
[ext_resource type="PackedScene" uid="uid://diy121fampbk4" path="res://Kobold Cave/Level Objects/Goal Flag/goal_flag.tscn" id="9_m10ai"]
[ext_resource type="PackedScene" uid="uid://cbccbby1k133q" path="res://Kobold Cave/Components/2D/Camera Boundry/camera_boundry.tscn" id="9_w82gg"]
[ext_resource type="PackedScene" uid="uid://b7woleo53xw3t" path="res://Kobold Cave/Components/2D/Trigger/trigger_base.tscn" id="10_5457m"]
[ext_resource type="Script" uid="uid://w23o54ji1wpq" path="res://Kobold Cave/Components/2D/Trigger Response/Push/push.gd" id="11_ivea3"]
[ext_resource type="Script" uid="uid://colxx5hl8mqt0" path="res://Kobold Cave/Components/2D/Trigger Response/Enemy Spawns/enemy_spawner.gd" id="12_jvck6"]
[ext_resource type="PackedScene" uid="uid://car8lov7qvebp" path="res://Kobold Cave/Entity/Exploding Ghost/exploding_ghost.tscn" id="13_07jwy"]
[ext_resource type="PackedScene" uid="uid://dau8a8o301pvi" path="res://Kobold Cave/Level Objects/SpikeTrap/spike_trap.tscn" id="13_jvck6"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_dh156"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jvck6"]
size = Vector2(1024, 128)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_urhrq"]
size = Vector2(1280, 1280)

[node name="Test World" type="Node2D"]
script = ExtResource("1_rbnmu")

[node name="Player" parent="." instance=ExtResource("1_ty4y6")]
z_index = 0
position = Vector2(512, 256)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAMAAQAAAAAAAAACAAMAAQAAAAAAAAADAAMAAQAAAAAAAAAEAAMAAQAAAAAAAAAFAAMAAQAAAAAAAAAGAAMAAQAAAAAAAAAIAAEAAQAAAAAAAAD+/wIAAQAAAAAAAAAAAAMAAQAAAAAAAAD//wMAAQAAAAAAAAD6/wIAAQAAAAAAAAATAAEAAQAAAAAAAAD6/wQAAQAAAAAAAAD6/wUAAQAAAAAAAAD6/wYAAQAAAAAAAAD7/wYAAQAAAAAAAAALAP//AQAAAAAAAAANAP//AQAAAAAAAAAOAP//AQAAAAAAAAAMAP//AQAAAAAAAAAHAP3/AQAAAAAAAAAGAP3/AQAAAAAAAAAFAP3/AQAAAAAAAAALAPr/AQAAAAAAAAAJAPf/AQAAAAAAAAALAPj/AQAAAAAAAAAEAPb/AQAAAAAAAAADAPb/AQAAAAAAAAACAPb/AQAAAAAAAAD0/wIAAQABAAAAAAD0/wEAAQABAAAAAAD0/wAAAQABAAAAAAD0////AQABAAAAAAD0//7/AQABAAAAAAD0//3/AQABAAAAAAD0//z/AQABAAAAAAD0//v/AQABAAAAAAD5//f/AQABAAAAAAD5//j/AQABAAAAAAD5//n/AQABAAAAAAD5//r/AQABAAAAAAD5//v/AQABAAAAAAD5//z/AQABAAAAAAAPAP7/AQABAAAAAAAQAP7/AQABAAAAAAARAP7/AQABAAAAAAASAP7/AQABAAAAAAATAP7/AQABAAAAAAATAP3/AQABAAAAAAAUAP3/AQABAAAAAAAUAPz/AQABAAAAAAATAPz/AQABAAAAAAASAPz/AQABAAAAAAARAPz/AQABAAAAAAAQAPz/AQABAAAAAAAPAPz/AQABAAAAAAAPAP3/AQABAAAAAAAQAP3/AQABAAAAAAARAP3/AQABAAAAAAASAP3/AQABAAAAAAAUAP7/AQABAAAAAAATAP//AQABAAAAAAASAP//AQABAAAAAAARAP//AQABAAAAAAAQAP//AQABAAAAAAAPAP//AQABAAAAAAAPAAAAAQABAAAAAAAQAAAAAQABAAAAAAARAAAAAQABAAAAAAASAAAAAQABAAAAAAATAAAAAQABAAAAAAAUAP//AQABAAAAAAAUAAAAAQABAAAAAAA=")
tile_set = ExtResource("2_6lgpp")
use_kinematic_bodies = true

[node name="Sprite2D" type="Sprite2D" parent="."]
texture_repeat = 2
texture = ExtResource("3_gjs3b")
region_enabled = true
region_rect = Rect2(0, 0, 128, 128)

[node name="LevelBoundry" parent="." instance=ExtResource("8_x5arx")]
position = Vector2(0, 896)

[node name="CollisionShape2D" type="CollisionShape2D" parent="LevelBoundry"]
shape = SubResource("WorldBoundaryShape2D_dh156")

[node name="CamLeftBottom" parent="." instance=ExtResource("9_w82gg")]
position = Vector2(-1536, 896)
vert_boundry = 1
horz_boundry = 0

[node name="CamRightTop" parent="." instance=ExtResource("9_w82gg")]
position = Vector2(2560, -2048)
vert_boundry = 0
horz_boundry = 1

[node name="BombPile" parent="." instance=ExtResource("8_8ixqh")]
position = Vector2(128, 384)

[node name="GoalFlag" parent="." instance=ExtResource("9_m10ai")]
position = Vector2(384, -1280)

[node name="SpikesTimer" type="Timer" parent="."]
process_callback = 0
autostart = true

[node name="SpikeTrap" parent="." node_paths=PackedStringArray("state_timer") instance=ExtResource("13_jvck6")]
position = Vector2(512, 384)
state = false
state_flips = true
state_timer = NodePath("../SpikesTimer")

[node name="TriggerBase" parent="." instance=ExtResource("10_5457m")]
position = Vector2(-1024, 768)
run_enter = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="TriggerBase"]
position = Vector2(0, 64)
shape = SubResource("RectangleShape2D_jvck6")

[node name="TriggerPush" type="Node2D" parent="TriggerBase"]
script = ExtResource("11_ivea3")
force = 5000.0
push_vector = Vector2(0, -1)
parent_respect_leave = false
metadata/_custom_type_script = "uid://w23o54ji1wpq"

[node name="TrigSpawnGhost" parent="." instance=ExtResource("10_5457m")]
position = Vector2(2048, -1024)
run_enter = true
run_leave = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="TrigSpawnGhost"]
position = Vector2(0, 640)
shape = SubResource("RectangleShape2D_urhrq")

[node name="TriggerEnemySpawner" type="Node2D" parent="TrigSpawnGhost" node_paths=PackedStringArray("spawn_marker", "spawn_timer")]
script = ExtResource("12_jvck6")
spawn_scene = ExtResource("13_07jwy")
spawn_marker = NodePath("Marker2D")
spawn_timer = NodePath("Timer")
metadata/_custom_type_script = "uid://colxx5hl8mqt0"

[node name="Timer" type="Timer" parent="TrigSpawnGhost/TriggerEnemySpawner"]
process_callback = 0

[node name="Marker2D" type="Marker2D" parent="TrigSpawnGhost/TriggerEnemySpawner"]
position = Vector2(0, 256)
